<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="res">
      <div>New name: <input type="text" id="name" /></div>
      <div>New Age: <input type="text" id="age" /></div>
      <div>New Salary: <input type="text" id="salary" /></div>
      <button onclick="addnewStaff()">Add staff</button>
    </div>
    <script>
      let output = document.getElementById('res')

      // BAI 1
      var obj1 = {
        name: 'Viet Anh',
        class: 'Toan',
        address: 'Thai Nguyen',
        clear: 'True',
        subject: {
          toan: 10,
          ly: 10,
          sinh: 10,
          hoa: 10,
          final: {
            score: 9.3
          }
        }
      }
      var obj2 = {
        name: 'Viet Anh',
        class: 'Toan',
        address: 'Thai Nguyen',
        clear: 'True',
        subject: {
          toan: 10,
          ly: 10,
          sinh: 10,
          hoa: 10,
          final: {
            score: 9.3
          }
        }
      }
      var obj3 = {
        gk: 9.4,
        ck: 9.5,
        final: 9.5
      }

      const isEqual = (o1, o2) => {
        res = []
        for (let key in o1) {
          if (o1.hasOwnProperty(key)) {
            // if (o2.hasOwnProperty(key)) {
            if (typeof o1[key] === 'object' && typeof o2[key] === 'object') {
              if (!isEqual(o1[key], o2[key])) {
                return false
              }
            } else {
              if (o1[key] !== o2[key]) {
                return false
              }
            }
          } else {
            return false
          }
        }

        return true
      }
      console.log(isEqual(obj1, obj2))
      var obj4 = {}
      const deepClone = o => {
        if (o == null) return null
        let newo = Object.assign({}, o)
        for (let key in newo) {
          if (typeof o[key] === 'object') {
            newo[key] = deepClone(o[key])
          } else {
            newo[key] = o[key]
          }
        }
        return newo
      }

      obj4 = deepClone(obj3)
      obj4.final = 6.5
      console.log(obj4)
      console.log(obj3)

      //BAI 3
      var a = [
        ['name', 'Viet Anh'],
        ['class', 'Toan'],
        ['address', 'Thai Nguyen']
      ]
      const createObject = arr => {
        let newo = {}
        for (let i = 0; i < arr.length; i++) {
          newo[arr[i][0]] = arr[i][1]
          //   alert(arr[i][0])
        }
        return newo
      }

      //Bai4
      var todoList = []
      const addNewTodo = o => {
        todoList.push(o)
      }

      const removeATask = taskName => {
        for (let i = 0; i < todoList.length; i++) {
          if (todoList[i].name === taskName) {
            todoList.splice(i, 1)
          }
        }
      }

      const updateTaskName = (oldName, newName) => {
        for (let i = 0; i < todoList.length; i++) {
          if (todoList[i].name === oldName) {
            todoList[i].name = newName
          }
        }
      }
      const updateTaskStatus = (taskName, status) => {
        for (let i = 0; i < todoList.length; i++) {
          if (todoList[i].name === taskName) {
            todoList[i].status = status
          }
        }
      }
      let newTask = {
        name: 'Learn Pytorch',
        status: 'in progress'
      }
      // addNewTodo(newTask)
      // updateTaskName('Learn Pytorch', 'Learn Tensorflow')
      // updateTaskStatus('Learn Tensorflow', 'complete')
      // removeATask('Learn Tensorflow')
      console.log(todoList)
      //BAI 5
      let staff = {
        id: 1,
        name: 'Viet Anh',
        age: 21,
        salary: 0
      }
      var company = []
      company.push(staff)
      const addnewStaff = () => {
        let newName = document.getElementById('name').value
        let newAge = document.getElementById('age').value
        let newSalary = document.getElementById('salary').value
        let newStaff = {
          id: company.length + 1,
          name: newName,
          age: newAge,
          salary: newSalary
        }
        company.push(newStaff)
      }
      //   console.log(company)
    </script>
  </body>
</html>
